<p>todo-form works!</p>
<form
	class="bg-background border border-border shadow-card rounded-xl p-6 space-y-5"
	[formGroup]="form"
	(ngSubmit)="submit()"
	novalidate
>
	<div class="flex items-start justify-between gap-3">
		<div>
			<h2 class="text-lg font-semibold text-foreground">
				{{ isEditing ? 'Update task' : 'Add a task' }}
			</h2>
			<p class="text-sm text-muted-foreground">
				{{ isEditing ? 'Adjust the details and save your changes.' : 'Capture what needs your attention next.' }}
			</p>
		</div>
		@if (isEditing) {
			<span class="inline-flex items-center rounded-full border border-primary/30 bg-primary/10 px-3 py-1 text-xs font-medium text-primary">
				Editing
			</span>
		}
	</div>

	<div class="space-y-2">
		<label for="todo-title" class="block text-sm font-medium text-foreground">Title</label>
		<input
			id="todo-title"
			type="text"
			placeholder="Follow up with the design team"
			formControlName="title"
			class="w-full rounded-lg border border-border bg-muted/40 px-3 py-2 text-sm text-foreground outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/40"
		/>
		@if (showError('title')) {
			<p class="text-xs text-red-500">A short, descriptive title is required.</p>
		}
	</div>

	<div class="space-y-2">
		<label for="todo-description" class="block text-sm font-medium text-foreground">Notes</label>
		<textarea
			id="todo-description"
			rows="3"
			placeholder="Add context or next steps to keep future you in the loop."
			formControlName="description"
			class="w-full resize-y rounded-lg border border-border bg-muted/40 px-3 py-2 text-sm text-foreground outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/40"
		></textarea>
	</div>

	<div class="space-y-2">
		<label for="todo-due" class="block text-sm font-medium text-foreground">Due date</label>
		<input
			id="todo-due"
			type="date"
			formControlName="dueDate"
			class="w-full rounded-lg border border-border bg-muted/40 px-3 py-2 text-sm text-foreground outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/40"
		/>
	</div>

	<div class="flex items-center justify-end gap-2">
		@if (isEditing) {
			<button
				type="button"
				class="rounded-lg border border-border px-4 py-2 text-sm font-medium text-foreground transition hover:bg-muted"
				(click)="cancel()"
			>
				Cancel
			</button>
		}
		<button
			type="submit"
			class="inline-flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground shadow-sm transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/40"
		>
			{{ isEditing ? 'Save changes' : 'Add task' }}
		</button>
	</div>
</form>
